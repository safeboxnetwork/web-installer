<!doctype html>
<html lang="en">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>INSTALLER TOOL</title>
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
<!-- Custom styles for this template -->
<link href="installer.css?t=1" rel="stylesheet">
</head>
<body id="scan" class="text-center">
<div class="container-fluid">
<div class="col-md-12">
	<h1>Scanning your device for any prevoius installed vesions</h1>
	<div class="row d-flex justify-content-center mt-100">
	       <div class="progress blue" data-value="100">
		 <span class="progress-left">
		   <span class="progress-bar"></span>
		 </span>
		 <span class="progress-right">
		   <span class="progress-bar"></span>
		 </span>
		 <div class="progress-value"></div>
	       </div>
	</div>
	<div><a href="install.html" class="stop">STOP</a></div>
</div>
</div>
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script>
$(function() {

  setTimeout(redirectToPage, 10000);

  $(".progress").each(function() {

    var value = $(this).attr('data-value');
    var left = $(this).find('.progress-left .progress-bar');
    var right = $(this).find('.progress-right .progress-bar');

    if (value > 0) {
/*
	angle1 = getRotationDegrees(right);
	angle2 = getRotationDegrees(left);
		console.log(angle1);
		console.log(angle2);
	idx=1
	while (idx < 50) {
		angle1 = getRotationDegrees(right);
		angle2 = getRotationDegrees(left);
		console.log(angle1);
		console.log(angle2);
		$('div.progress-value').html(angle2);
		idx++;
	}
*/
/*
      if (value <= 50) {
        right.css('transform', 'rotate(' + percentageToDegrees(value) + 'deg)')
      } else {
        right.css('transform', 'rotate(180deg)')
        left.css('transform', 'rotate(' + percentageToDegrees(value - 50) + 'deg)')
      }
*/
    }

  })

  function percentageToDegrees(percentage) {
    return percentage / 100 * 360
  }

	/**
	 * Returns rotation in degrees when obtaining transform-styles using javascript
	 * http://stackoverflow.com/questions/8270612/get-element-moz-transformrotate-value-in-jquery
	 */
	function getRotationDegrees(obj) {
	    var matrix = obj.css("-webkit-transform") ||
	    obj.css("-moz-transform")    ||
	    obj.css("-ms-transform")     ||
	    obj.css("-o-transform")      ||
	    obj.css("transform");
	    if(matrix !== 'none') {
		var values = matrix.split('(')[1].split(')')[0].split(',');
		var a = values[0];
		var b = values[1];
		var angle = Math.round(Math.atan2(b, a) * (180/Math.PI));
	    } else { var angle = 0; }
	    return angle;
	}

        function redirectToPage() {
            window.location.href = 'manage.html';
        }
});
</script>
</body>
</html>
